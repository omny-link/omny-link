<?xml version="1.0" encoding="UTF-8" ?>
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
	<xs:element name="getPropertyEmailsResponse">
		<xs:annotation>
			<xs:documentation>Rightmove Realtime Datafeed XML Schema for GetPropertyEmails response
			</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element name="request_id">
					<xs:simpleType >
						<xs:annotation>
							<xs:documentation>
								The unique ID of the request which this response is associated with
							</xs:documentation>
						</xs:annotation>
						<xs:restriction base="xs:string"/>
					</xs:simpleType>
				</xs:element>

				<xs:element name="message">
					<xs:simpleType >
						<xs:annotation>
							<xs:documentation>
								The message content for the response
							</xs:documentation>
						</xs:annotation>
						<xs:restriction base="xs:string"/>
					</xs:simpleType>
				</xs:element>

				<xs:element name="success">
					<xs:simpleType >
						<xs:annotation>
							<xs:documentation>
								Indicates whether or not the request was successful
							</xs:documentation>
						</xs:annotation>
						<xs:restriction base="xs:boolean"/>
					</xs:simpleType>
				</xs:element>

				<xs:element name="request_timestamp">
					<xs:simpleType >
						<xs:annotation>
							<xs:documentation>
								The time at which the request was received in the format: dd-MM-yyyy HH:mm:ss
							</xs:documentation>
						</xs:annotation>
						<xs:restriction base="xs:string"/>
					</xs:simpleType>
				</xs:element>

				<xs:element name="response_timestamp">
					<xs:simpleType >
						<xs:annotation>
							<xs:documentation>
								The time at which the response was sent in the format: dd-MM-yyyy HH:mm:ss
							</xs:documentation>
						</xs:annotation>
						<xs:restriction base="xs:string"/>
					</xs:simpleType>
				</xs:element>

				<xs:element name="replication_lag" minOccurs="0">
					<xs:simpleType >
						<xs:annotation>
							<xs:documentation>
								The current lag time for replicating between the three Rightmove data centres in minutes
							</xs:documentation>
						</xs:annotation>
						<xs:restriction base="xs:integer"/>
					</xs:simpleType>
				</xs:element>

				<xs:element name="export_period" minOccurs="0">
					<xs:annotation>
						<xs:documentation>
							The period for which emails are being exported
						</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="start_date_time">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The start date/time for the export period in the format: dd-MM-yyyy HH:mm:ss - this cannot be more than 28 days ago
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
							<xs:element name="end_date_time">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The end date/time for the export period in the format: dd-MM-yyyy HH:mm:ss - this cannot be more than 28 days ago
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>

				<xs:element name="branch" minOccurs="0" >
					<xs:annotation>
						<xs:documentation>
                            Details about which branch's emails are being retrieved
						</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="branch_id">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											Unique Rightmove ID for the branch for which the emails export is being generated
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:int"/>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>

                <xs:element name="property" minOccurs="0" maxOccurs="1">
                    <xs:annotation>
                        <xs:documentation>
							Current details for this property on Rightmove
                        </xs:documentation>
                    </xs:annotation>
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="agent_ref">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            Agent's unique reference for the property
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:string"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="rightmove_id">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            Rightmove's unique reference for the property
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:int"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="rightmove_url">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            The Rightmove URL for the property
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:string"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="price">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            The current listed price for the property on Rightmove
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:int"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="postcode">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            The postcode provided for the property
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:string"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="bedrooms">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            The number of bedrooms the property has
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:int"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="style" minOccurs="0" maxOccurs="1">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            The style for the property listing - for New Homes Developments only
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:string"/>
                                </xs:simpleType>
                            </xs:element>

                            <xs:element name="property_type">
                                <xs:simpleType >
                                    <xs:annotation>
                                        <xs:documentation>
                                            <![CDATA[The type of the property: 0 Not Specified, 1 Terraced House, 2 End of terrace house, 3 Semi-detached house, 4 Detached house, 5 Mews house, 6 Cluster house, 7 Ground floor flat, 8 Flat, 9 Studio flat, 10 Ground floor maisonette, 11 Maisonette, 12 Bungalow, 13 Terraced bungalow, 14 Semi-detached bungalow, 15 Detached bungalow, 16 Mobile home, 20 Land, 21 Link detached house, 22 Town house, 23 Cottage, 24 Chalet, 26 House (unspecified), 27 Villa, 28 Apartment, 29 Penthouse, 30 Finca, 43 Barn Conversion, 44 Serviced apartment, 45 Parking, 46 Sheltered Housing, 47 Reteirment property, 48 House share, 49 Flat share, 50 Park home, 51 Garages, 52 Farm House, 53 Equestrian facility, 56 Duplex, 59 Triplex, 62 Longere, 65 Gite, 68 Barn, 71 Trulli, 74 Mill, 77 Ruins, 80 Restaurant, 83 Cafe, 86 Mill, 92 Castle, 95 Village House, 101 Cave House, 104 Cortijo, 107 Farm Land, 110 Plot, 113 Country House, 116 Stone House, 117 Caravan, 118 Lodge, 119 Log Cabin, 120 Manor House, 121 Stately Home, 125 Off-Plan, 128 Semi-detached Villa, 131 Detached Villa, 134 Bar/Nightclub, 137 Shop, 140 Riad, 141 House Boat, 142 Hotel Room, 143 Block of Apartments, 144 Private Halls, 178 Office, 181 Business Park, 184 Serviced Office, 187 Retail Property (High Street), 190 Retail Property (Out of Town), 193 Convenience Store, 196 Garages, 199 Hairdresser/Barber Shop, 202 Hotel Room, 205 Petrol Station, 208 Post Office, 211 Pub, 214 Workshop & Retail Space, 217 Distribution Warehouse, 220 Factory, 223 Heavy Industrial, 226 Industrial Park, 229 Light Industrial, 232 Storage, 235 Showroom, 238 Warehouse, 241 Land, 244 Commercial Development, 247 Industrial Development, 250 Residential Development, 253 Commercial Property, 256 Data Centre, 259 Farm, 262 Healthcare Facility, 265 Marine Property, 268 Mixed Use, 271 Research & Development Facility, 274 Science Park, 277 Guest House, 280 Hospitality, 283 Leisure Facility, 512 House of Multiple Occupation]]>
                                        </xs:documentation>
                                    </xs:annotation>
                                    <xs:restriction base="xs:int"/>
                                </xs:simpleType>
                            </xs:element>

                        </xs:sequence>
                    </xs:complexType>
                </xs:element>

				<xs:element name="emails" minOccurs="0"  maxOccurs="unbounded">
					<xs:annotation>
						<xs:documentation>
							Details of all the emails sent for the property during the export period
						</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="email_id">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											Unique Rightmove identifier for this email
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:int"/>
								</xs:simpleType>
							</xs:element>

							<xs:element name="from_address">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The email address which the email came from
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>

							<xs:element name="to_address">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The email address which the email was sent to
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>

							<xs:element name="email_date">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The date the original email was sent in the format: dd-MM-yyyy HH:mm:ss
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>

							<xs:element name="email_types" minOccurs="0"  maxOccurs="unbounded">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
                                            A list of all the types the email sent belong to: 1 Request Viewing, 2 Request Appraisal, 3 Request Property Details, 4 Agent Valuation Request, 6 Email to Agent, 34 Multi agent email, 46 LVA lead
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:int"/>
								</xs:simpleType>
							</xs:element>

							<xs:element name="user">
								<xs:annotation>
									<xs:documentation>
										Details about the user and their requirements
									</xs:documentation>
								</xs:annotation>
								<xs:complexType>
									<xs:sequence>
										<xs:element name="user_contact_details">
											<xs:annotation>
												<xs:documentation>
													The user's contact information
												</xs:documentation>
											</xs:annotation>
											<xs:complexType>
												<xs:sequence>
													<xs:element name="title" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's title
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="first_name" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's first name
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="last_name" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's last name
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="address" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's address
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="postcode" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's postcode
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="country" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's country of residence
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="phone_day" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's daytime telephone number
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="phone_evening" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The user's evening telephone number
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="dpa_flag" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Indicates whether the user wishes for their data to be protected
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:boolean"/>
														</xs:simpleType>
													</xs:element>

												</xs:sequence>
											</xs:complexType>
										</xs:element>

										<xs:element name="user_information">
											<xs:annotation>
												<xs:documentation>
													The information which the user provided within the email
												</xs:documentation>
											</xs:annotation>
											<xs:complexType>
												<xs:sequence>
													<xs:element name="move_date" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	The date the user is looking to move: 1 ASAP, 2 January, 3 February, 4 March, 5 April, 6 May, 7 June, 8 July, 9 August 10, September, 11 October, 12 November, 13 December
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:int"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="moving_reason" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Why the user is looking to move
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="property_to_sell" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Indicates whether the user has a property to sell: 1 No, 2 Yes, it is not on the market yet, 3 Yes, it is on the market already, 4 Yes, it is under offer, 5 Yes, it is already exchanged, 6 Yes
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:int"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="property_to_rent" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Indicates whether the user has a property to rent: 1 No, 2 Not yet, I intend to buy to let, 3 Yes, it is available to let now, 4 Yes, it will be available to let soon, 5 Yes, it is currently occupied, 6 Yes
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:int"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="financial_advice" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Indicates whether the user wants financial advice
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:boolean"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="part_exchange" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Indicates whether the user is interested in part exchange
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:boolean"/>
														</xs:simpleType>
													</xs:element>

													<xs:element name="comments" minOccurs="0" maxOccurs="1">
														<xs:simpleType >
															<xs:annotation>
																<xs:documentation>
																	Any further comments which the user has included
																</xs:documentation>
															</xs:annotation>
															<xs:restriction base="xs:string"/>
														</xs:simpleType>
													</xs:element>

												</xs:sequence>
											</xs:complexType>
										</xs:element>

									</xs:sequence>
								</xs:complexType>
							</xs:element>

						</xs:sequence>
					</xs:complexType>
				</xs:element>

				<xs:element name="errors" minOccurs="0" maxOccurs="unbounded">
					<xs:annotation>
						<xs:documentation>
							The errors causing the request to fail
						</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="error_code" minOccurs="1" maxOccurs="1">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The unique Rightmove code for the error causing the request to fail
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
							<xs:element name="error_description" minOccurs="1" maxOccurs="1">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The full description of the error associated with the error code which has been generated
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
							<xs:element name="error_value" minOccurs="0" maxOccurs="1">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The value that caused this error
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>

				<xs:element name="warnings" minOccurs="0" maxOccurs="unbounded">
					<xs:annotation>
						<xs:documentation>
							The warning generated by the request
						</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="warning_code" minOccurs="1" maxOccurs="1">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The unique Rightmove warning code generated due to failure to pass all of the business rules
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
							<xs:element name="warning_description" minOccurs="1" maxOccurs="1">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The full description of the warning associated with the warning code which has been generated
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
							<xs:element name="warning_value" minOccurs="0" maxOccurs="1">
								<xs:simpleType >
									<xs:annotation>
										<xs:documentation>
											The value that caused this warning
										</xs:documentation>
									</xs:annotation>
									<xs:restriction base="xs:string"/>
								</xs:simpleType>
							</xs:element>
						</xs:sequence>
					</xs:complexType>
				</xs:element>

			</xs:sequence>
		</xs:complexType>
	</xs:element>
</xs:schema>