<!--
  Copyright 2015-2022 Tim Stephenson and contributors
  
   Licensed under the Apache License, Version 2.0 (the "License"); you may not
   use this file except in compliance with the License.  You may obtain a copy
   of the License at
  
     http://www.apache.org/licenses/LICENSE-2.0
  
   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
   WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
   License for the specific language governing permissions and limitations under
   the License.
-->
<section id="currentSect" style="display:none">
  <form class="inline-form form" id="currentForm">
     <h2 class="form-inline">Edit Template
      <a class="clickable  btn btn-outline-dark -paperclip" href="#notes" title="Jump to Notes"></a>
      <span class="float-end">
        <a class="clickable  btn btn-outline-dark -remove" aria-hidden="true" on-click="delete(current)" title="Delete this record"></a>
      </span>
    </h2>

    <div class="currentBody col-md-6 col-sm-12 col-xs-12">
      <ul class="form edit-form">
        <li class="form-group"><label class="col-md-4 col-sm-4 col-xs-3 required">Owner:</label><input class="col-md-8 col-sm-8 form-control" list="owners" placeholder="Start typing to filter options" id="curOwner" required value="{{current.owner}}"></li>
        <li class="form-group">
          <label class="col-md-4 col-sm-4 col-xs-3 required">Status:</label>
          <input class="col-md-8 col-sm-8 form-control" list="status" placeholder="Start typing to filter options" id="curStatus" required value="{{current.status}}">
          <p class="col-md-offset-4 hidden-sm hidden-xs help-block">Draft, Ready for review, Published etc.</p>
        </li>
        <li class="form-group">
          <label class="col-md-4 col-sm-4 col-xs-3">Requires:</label>
          <input class="col-md-8 col-sm-8 col-xs-9 form-control" id="curRequiredVars" readonly disabled type="text" value="{{current.requiredVars}}">
          <p class="col-md-offset-4 hidden-sm hidden-xs help-block">The fields required to fill the template, these are derived or set by an administrator.</p>
        </li>
      </ul>
    </div>
    <div class="col-md-6 col-sm-12 col-xs-12">
      <ul class="form edit-form">
        <li class="form-group"><label class="col-md-4 col-sm-4 col-xs-3 required">Name:</label><input class="col-md-8 col-sm-8 form-control" id="curName" pattern="[0-9a-zA-Z]*" required type="text" value="{{current.name}}"></li>
        <li class="form-group"><label class="col-md-4 col-sm-4 col-xs-3 required">Subject:</label><input class="col-md-8 col-sm-8 form-control" id="curSubject" required type="text" value="{{current.title}}"></li>
      </ul>
    </div>
    <div style="clear: both" class="col-md-12 col-sm-12 col-xs-12">
      <ul class="form edit-form">
        <li>
          <label class="col-md-2 col-sm-4 col-xs-3 required">Template:</label>
          <div class="col-md-offset-2 col-sm-offset-4 col-xs-offset-3 col-md-10 col-sm-8 col-xs-9" style="padding-left: 5px;">
            <textarea class="rich-content" name="curRichContent" id="curRichContent" placeholder="Enter something ..." required rows="30" value="{{current.richContent}}" wrap="soft">
                This is my textarea to be replaced with CKEditor.
            </textarea>
            <p class="help-block" style="margin:5px 0">A plain text version of this template will be derived automatically and displayed automatically as necessary (for instance in less capable mail clients).</p>
          </div>
          <textarea id="curPlainContent" class="col-md-offset-2 col-md-9 form-control" cols="80" value="{{current.plainContent}}" style="display:none"></textarea>
        </li>
      </ul>
    </div>
    <div style="clear: both"></div>
    <div class="col-md-12 col-sm-12 col-xs-12">
      <ul class="form edit-form">
        <li>
          <label class="col-md-2 col-sm-4 col-xs-3 control-label">SMS / Tweet:</label>
          <textarea id="curShortContent" class="col-md-offset-2 col-sm-offset-4 col-xs-offset-3 col-md-10 col-sm-8 col-xs-9 form-control" cols="80" maxlength="140" required value="{{current.shortContent}}"></textarea>
          <div class="clearfix"></div>
          <label class="col-md-offset-2 col-sm-offset-4 col-xs-offset-3">Characters used:</label>
          <span id="curChars" value="{{chars(current.shortContent)}}">{{chars(current.shortContent)}}</span>
          <p class="col-md-offset-2 col-sm-offset-4 col-xs-offset-3 help-block">Consider embedding a URL to fuller information in these short form messages.</p>
        </li>
      </ul>
    </div>
  </form>

  {{#tenant.features.documentSigning}}
    {{>currentMemoSignatorySect}}
  {{/}}

</section>
