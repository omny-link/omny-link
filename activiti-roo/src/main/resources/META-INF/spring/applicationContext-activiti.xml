<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:context="http://www.springframework.org/schema/context" 
  xmlns:tx="http://www.springframework.org/schema/tx"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">

  <!-- Comment this if you don't need demo data
  <bean id="demoDataGenerator" class="org.activiti.rest.demo.DemoDataGenerator"
    init-method="init">
    <property name="processEngine" ref="processEngine" />
    <property name="createDemoUsersAndGroups" value="true" />
        <property name="createDemoProcessDefinitions" value="true" />
        <property name="createDemoModels" value="true" />
  </bean>
  -->
  <!-- LOCAL (non container) database connection
  <bean id="dbProperties"
    class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    <property name="location" value="classpath:db.properties" />
    <!- - Allow other PropertyPlaceholderConfigurer to run as well - ->
    <property name="ignoreUnresolvablePlaceholders" value="true" />
  </bean>
  <bean id="dataSource"
    class="org.springframework.jdbc.datasource.SimpleDriverDataSource">
    <property name="driverClass" value="${jdbc.driver}" />
    <property name="url" value="${jdbc.url}" />
    <property name="username" value="${jdbc.username}" />
    <property name="password" value="${jdbc.password}" />
  </bean>-->
  
  <!-- JEE container managed data source (both DEV and PROD) 
  <bean id="dataSource" class="org.springframework.jndi.JndiObjectFactoryBean">
      <property name="jndiName" value="java:comp/env/jdbc/ActivitiDB"/>
  </bean>-->

  <!-- in main spring context 
  <bean id="transactionManager"
    class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
    <property name="dataSource" ref="dataSource" />
  </bean>
 -->

  <bean id="processEngineConfiguration" class="org.activiti.spring.SpringProcessEngineConfiguration">
    <property name="dataSource" ref="dataSource" />
    <property name="transactionManager" ref="transactionManager" />
    <property name="databaseSchemaUpdate" value="true" />
    <property name="jobExecutorActivate" value="false" />
    
    <!-- 
      There is supposed to be filtering in place to avoid duplicates but need to test. 
      Also don't know if the /*/ will work. 
    <property name="deploymentResources" value="classpath*:/process/com/knowprocess/*/.*.bpmn" />
-->

    <!-- Embedded dev server 
    <property name="mailServerHost" value="localhost" />
    <property name="mailServerPort" value="5025" />
    -->
    <!-- SendGrid server 
    <property name="mailServerHost" value="smtp.sendgrid.net" />
    <property name="mailServerPort" value="587" />
    <property name="mailServerUseTLS" value="false" />
    <property name="mailServerUsername" value="" />
    <property name="mailServerPassword" value="" />
    -->

    <!-- GMail server -->
    <property name="mailServerHost" value="smtp.gmail.com" />
    <property name="mailServerPort" value="465" />
    <property name="mailServerUseTLS" value="true" />
    <property name="mailServerUseSSL" value="true" />    
    <property name="mailServerUsername" value="info@trakeo.com" />
    <property name="mailServerPassword" value="EDh9wHyC" />
    
    <property name="mailServerDefaultFrom" value="Tim Stephenson &lt;tim@trakeo.com>" />
  </bean>
	  
	<bean id="processEngine" class="org.activiti.spring.ProcessEngineFactoryBean">
	  <property name="processEngineConfiguration" ref="processEngineConfiguration" />
	</bean>
	
</beans>
